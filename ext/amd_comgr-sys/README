# On ROCm 6.3 and lower
wget https://repo.radeon.com/rocm/apt/6.3.4/pool/main/c/comgr6.3.4/comgr6.3.4_2.8.0.60304-76~24.04_amd64.deb
apt install ./rocm-core6.3.4_6.3.4.60304-76~24.04_amd64.deb
wget https://repo.radeon.com/rocm/apt/6.3.4/pool/main/r/rocm-core6.3.4/rocm-core6.3.4_6.3.4.60304-76~24.04_amd64.deb
apt install ./comgr6.3.4_2.8.0.60304-76~24.04_amd64.deb
cargo install bindgen-cli
bindgen --rust-target 1.77 /opt/rocm-6.3.4/include/amd_comgr/amd_comgr.h -o src/comgr2.rs --no-layout-tests --default-enum-style=newtype --no-derive-debug --must-use-type amd_comgr_status_t --allowlist-var "^AMD_COMGR.*$" --dynamic-loading Comgr2 --allowlist-function amd_comgr_do_action --allowlist-function amd_comgr_action_data_get_data --allowlist-function amd_comgr_action_info_set_isa_name --allowlist-function amd_comgr_action_info_set_language --allowlist-function amd_comgr_create_action_info --allowlist-function amd_comgr_create_data --allowlist-function amd_comgr_create_data_set --allowlist-function amd_comgr_data_set_add --allowlist-function amd_comgr_destroy_action_info --allowlist-function amd_comgr_destroy_data_set --allowlist-function amd_comgr_get_data --allowlist-function amd_comgr_set_data --allowlist-function amd_comgr_set_data_name --allowlist-function amd_comgr_action_info_set_option_list --allowlist-function amd_comgr_get_version --allowlist-function amd_comgr_iterate_symbols --allowlist-function amd_comgr_symbol_get_info --allowlist-type amd_comgr_symbol_type_t
# On ROCm 6.4 and higher
bindgen --rust-target 1.77 /opt/rocm/include/amd_comgr/amd_comgr.h       -o src/comgr3.rs --no-layout-tests --default-enum-style=newtype --no-derive-debug --must-use-type amd_comgr_status_t --allowlist-var "^AMD_COMGR.*$" --dynamic-loading Comgr3 --allowlist-function amd_comgr_do_action --allowlist-function amd_comgr_action_data_get_data --allowlist-function amd_comgr_action_info_set_isa_name --allowlist-function amd_comgr_action_info_set_language --allowlist-function amd_comgr_create_action_info --allowlist-function amd_comgr_create_data --allowlist-function amd_comgr_create_data_set --allowlist-function amd_comgr_data_set_add --allowlist-function amd_comgr_destroy_action_info --allowlist-function amd_comgr_destroy_data_set --allowlist-function amd_comgr_get_data --allowlist-function amd_comgr_set_data --allowlist-function amd_comgr_set_data_name --allowlist-function amd_comgr_action_info_set_option_list --allowlist-function amd_comgr_get_version --allowlist-function amd_comgr_iterate_symbols --allowlist-function amd_comgr_symbol_get_info --allowlist-type amd_comgr_symbol_type_t
