[package]
name = "zluda_inject"
version = "0.0.0"
authors = ["Andrzej Janik <vosen@vosen.pl>"]
edition = "2021"

[[bin]]
name = "zluda"
path = "src/main.rs"

[target.'cfg(windows)'.dependencies]
windows = { version = "0.62.2", features = [
    "Win32_Foundation",
    "Win32_System_Threading",
    "Win32_Security",
    "Win32_System_JobObjects",
    "Win32_System_Diagnostics_Debug",
    "Win32_System_LibraryLoader",
] }
windows-core = { version = "0.62.2" }
zluda_windows = { path = "../zluda_windows" }
tempfile = "3"
argh = "0.1"
bpaf = { version = "0.9.19", features = ["derive", "bright-color"] }
detours-sys = { path = "../detours-sys" }
rustc-hash = "2.0.0"
widestring = "1.2.1"

[dev-dependencies]
# all of those are used in integration tests
zluda_redirect = { path = "../zluda_redirect" }
zluda_trace = { path = "../zluda_trace" }
zluda_ml = { path = "../zluda_ml" }

[package.metadata.zluda]
windows_only = true
